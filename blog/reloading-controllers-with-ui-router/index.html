<!DOCTYPE html><html lang="en" data-reactid=".1zlmhg61zi8" data-react-checksum="-1824779346"><head data-reactid=".1zlmhg61zi8.0"><meta charset="UTF-8" data-reactid=".1zlmhg61zi8.0.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge" data-reactid=".1zlmhg61zi8.0.1"/><meta name="viewport" content="width=device-width, initial-scale=1" data-reactid=".1zlmhg61zi8.0.2"/><meta name="description" content="" data-reactid=".1zlmhg61zi8.0.3"/><meta name="author" content="Gareth Hughes" data-reactid=".1zlmhg61zi8.0.4"/><title data-reactid=".1zlmhg61zi8.0.5">Quantum Web Development</title><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Italiana&amp;subset=latin" data-reactid=".1zlmhg61zi8.0.6"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous" data-reactid=".1zlmhg61zi8.0.7"/><link rel="stylesheet" href="/css/main.css" data-reactid=".1zlmhg61zi8.0.8"/></head><body data-reactid=".1zlmhg61zi8.1"><header class="header" data-reactid=".1zlmhg61zi8.1.0"><nav class="navbar navbar-default navbar-fixed-top" data-reactid=".1zlmhg61zi8.1.0.0"><div class="container-fluid" data-reactid=".1zlmhg61zi8.1.0.0.0"><div class="navbar-header" data-reactid=".1zlmhg61zi8.1.0.0.0.0"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false" data-reactid=".1zlmhg61zi8.1.0.0.0.0.0"><span class="sr-only" data-reactid=".1zlmhg61zi8.1.0.0.0.0.0.0">Toggle navigation</span><span class="icon-bar" data-reactid=".1zlmhg61zi8.1.0.0.0.0.0.1"></span><span class="icon-bar" data-reactid=".1zlmhg61zi8.1.0.0.0.0.0.2"></span><span class="icon-bar" data-reactid=".1zlmhg61zi8.1.0.0.0.0.0.3"></span></button><a class="navbar-brand glyphicon glyphicon-home home-menu-link" aria-hidden="true" href="/" data-reactid=".1zlmhg61zi8.1.0.0.0.0.1"></a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" data-reactid=".1zlmhg61zi8.1.0.0.0.1"><ul class="nav navbar-nav navbar-right" data-reactid=".1zlmhg61zi8.1.0.0.0.1.0"><li data-reactid=".1zlmhg61zi8.1.0.0.0.1.0.0"><a class="home-menu-link" href="/about" data-reactid=".1zlmhg61zi8.1.0.0.0.1.0.0.0">About</a></li><li data-reactid=".1zlmhg61zi8.1.0.0.0.1.0.1"><a class="home-menu-link" href="/portfolio" data-reactid=".1zlmhg61zi8.1.0.0.0.1.0.1.0">Work</a></li><li data-reactid=".1zlmhg61zi8.1.0.0.0.1.0.2"><a class="home-menu-link" href="/blog" data-reactid=".1zlmhg61zi8.1.0.0.0.1.0.2.0">Blog</a></li></ul></div></div></nav></header><div class="portfolio-content" data-reactid=".1zlmhg61zi8.1.1"><div class="jumbotron" data-reactid=".1zlmhg61zi8.1.1.0"><div class="container" data-reactid=".1zlmhg61zi8.1.1.0.0"><h1 data-reactid=".1zlmhg61zi8.1.1.0.0.0">Reloading Controllers with UI Router</h1></div></div><div class="container" data-reactid=".1zlmhg61zi8.1.1.1"><div class="row" data-reactid=".1zlmhg61zi8.1.1.1.0"><div class="col-xs-12 col-md-8 col-md-offset-2" data-reactid=".1zlmhg61zi8.1.1.1.0.0"><article data-reactid=".1zlmhg61zi8.1.1.1.0.0.0"><p data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.0"><span data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.0.0">When I began developing this site, I made the decision to use</span><a href="https://github.com/angular-ui/ui-router" data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.0.1"> UI Router</a><span data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.0.2"> for the client side routing, as opposed to ngRoute which is built-in to Angular.</span></p><p data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.1">I made this decision because, despite the fact it is newer and therefore has issues, the benefits outweigh this. For example, I new that I wanted to create nested views as part of my portfolio page, and ngRoute just doesn&#x27;t accomodate this.</p><p data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.2">I also really prefer the idea of a &#x27;state&#x27; within my app - this feels like it fits in a lot better with the MVC architecture, and I can map different states, often within the same page, to different controllers.</p><p data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.3">Unfortunately, whilst developing my contact page, I came across one of the issues with UI Router, namely that it isn&#x27;t possible to reload a controller. This was a problem for me because I wanted the animations that I had built into the page to run every time a user transitions from submitting the form to the success page. There are various workarounds on the UI Router github page for this issue, but these didn&#x27;t appear to work for me, possibly because of the nested nature of the states in my app.</p><p data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.4">In the end, I decided to take a look at the events that UI Router fires, and try to figure out how I could use them to my advantage. UI Router fires several events, including one that indicates a successful transition to a new state. Great! This is just what I need.</p><div data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.5">loading...</div><p data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.6">When I first create my controller for handling the transition to the success page, I am registering a listener to the `$stateChangeSuccess` event. From that point, every time I receive an event of that type, I check that the current state is `contact.success` and if it is, execute my animation code. I have to check the current state, since every successful transition will fire this event, regardless which state it ends up in.</p><p data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.7">I am fully expecting to encounter similar issues to this later on, when I introduce other animations to the app, and I am hoping that this approach to solving them is a good generic one.</p><p data-reactid=".1zlmhg61zi8.1.1.1.0.0.0.8">In other news, I have now also joined the Oxford Google Developer Group - another Meetup akin to Thames Valley Web Developers. There appears to be a considerable amount of overlap between the two at the moment, since they are both organised by the same person. However, with the first meeting this evening, I am hoping to get a bit more clarification about the aims of both groups, and if necessary, focus my attention on one of the groups.</p></article></div></div></div></div><script src="https://fb.me/react-0.14.6.min.js" data-reactid=".1zlmhg61zi8.1.2"></script><script src="https://fb.me/react-dom-0.14.6.min.js" data-reactid=".1zlmhg61zi8.1.3"></script><script src="/bundle.js" data-reactid=".1zlmhg61zi8.1.4"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" data-reactid=".1zlmhg61zi8.1.5"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous" data-reactid=".1zlmhg61zi8.1.6"></script></body></html>