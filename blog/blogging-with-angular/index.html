<!DOCTYPE html><html lang="en" data-reactid=".257pxbhw8hs" data-react-checksum="-2010399817"><head data-reactid=".257pxbhw8hs.0"><meta charset="UTF-8" data-reactid=".257pxbhw8hs.0.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge" data-reactid=".257pxbhw8hs.0.1"/><meta name="viewport" content="width=device-width, initial-scale=1" data-reactid=".257pxbhw8hs.0.2"/><meta name="description" content="" data-reactid=".257pxbhw8hs.0.3"/><meta name="author" content="Gareth Hughes" data-reactid=".257pxbhw8hs.0.4"/><title data-reactid=".257pxbhw8hs.0.5">Quantum Web Development</title><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Italiana&amp;subset=latin" data-reactid=".257pxbhw8hs.0.6"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous" data-reactid=".257pxbhw8hs.0.7"/><link rel="stylesheet" href="/css/main.css" data-reactid=".257pxbhw8hs.0.8"/></head><body data-reactid=".257pxbhw8hs.1"><header class="header" data-reactid=".257pxbhw8hs.1.0"><nav class="navbar navbar-default navbar-fixed-top" data-reactid=".257pxbhw8hs.1.0.0"><div class="container-fluid" data-reactid=".257pxbhw8hs.1.0.0.0"><div class="navbar-header" data-reactid=".257pxbhw8hs.1.0.0.0.0"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false" data-reactid=".257pxbhw8hs.1.0.0.0.0.0"><span class="sr-only" data-reactid=".257pxbhw8hs.1.0.0.0.0.0.0">Toggle navigation</span><span class="icon-bar" data-reactid=".257pxbhw8hs.1.0.0.0.0.0.1"></span><span class="icon-bar" data-reactid=".257pxbhw8hs.1.0.0.0.0.0.2"></span><span class="icon-bar" data-reactid=".257pxbhw8hs.1.0.0.0.0.0.3"></span></button><a class="navbar-brand glyphicon glyphicon-home home-menu-link" aria-hidden="true" href="/" data-reactid=".257pxbhw8hs.1.0.0.0.0.1"></a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" data-reactid=".257pxbhw8hs.1.0.0.0.1"><ul class="nav navbar-nav navbar-right" data-reactid=".257pxbhw8hs.1.0.0.0.1.0"><li data-reactid=".257pxbhw8hs.1.0.0.0.1.0.0"><a class="home-menu-link" href="/about" data-reactid=".257pxbhw8hs.1.0.0.0.1.0.0.0">About</a></li><li data-reactid=".257pxbhw8hs.1.0.0.0.1.0.1"><a class="home-menu-link" href="/portfolio" data-reactid=".257pxbhw8hs.1.0.0.0.1.0.1.0">Work</a></li><li data-reactid=".257pxbhw8hs.1.0.0.0.1.0.2"><a class="home-menu-link" href="/blog" data-reactid=".257pxbhw8hs.1.0.0.0.1.0.2.0">Blog</a></li></ul></div></div></nav></header><div class="portfolio-content" data-reactid=".257pxbhw8hs.1.1"><div class="jumbotron" data-reactid=".257pxbhw8hs.1.1.0"><div class="container" data-reactid=".257pxbhw8hs.1.1.0.0"><h1 data-reactid=".257pxbhw8hs.1.1.0.0.0">Blogging with Angular</h1></div></div><div class="container" data-reactid=".257pxbhw8hs.1.1.1"><div class="row" data-reactid=".257pxbhw8hs.1.1.1.0"><div class="col-xs-12 col-md-8 col-md-offset-2" data-reactid=".257pxbhw8hs.1.1.1.0.0"><article data-reactid=".257pxbhw8hs.1.1.1.0.0.0"><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.0"><span data-reactid=".257pxbhw8hs.1.1.1.0.0.0.0.0">As I mentioned a little while ago in </span><a href="http://garethhughes.io/blog/markdown-blogging-with-node" data-reactid=".257pxbhw8hs.1.1.1.0.0.0.0.1">this </a><span data-reactid=".257pxbhw8hs.1.1.1.0.0.0.0.2">post, my intention was to move to an entirely client-side blogging engine. This would taking my existing solution which used Node to serve Jade templates containing a blog entry retrieved from Firebase, and moving the Firebase retrieval to the client-side.</span></p><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.1">The plan was to still serve a small Jade template from Node, but instead of containing the actual blog entry, it would just contain a handful of Angular directives and data-bindings that I would create with a new module.</p><h3 data-reactid=".257pxbhw8hs.1.1.1.0.0.0.2">The Fireblogger module</h3><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.3">Creating a new module in Angular is great in order to encapsulate a small amount of functionality for a particular purpose. In this case, I wanted my module to do a handful of jobs:</p><ul data-reactid=".257pxbhw8hs.1.1.1.0.0.0.4"><li data-reactid=".257pxbhw8hs.1.1.1.0.0.0.4.0">Load all of the posts</li><li data-reactid=".257pxbhw8hs.1.1.1.0.0.0.4.1">Load a specific post for a given URL</li><li data-reactid=".257pxbhw8hs.1.1.1.0.0.0.4.2">Provide a markdown directive to display markdown</li></ul><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.5">Since I would be using a centralised model to hold on to this data, I needed to get my head around the way that Angular&#x27;s data-binding works with regards to being updated. Whilst something as simple as</p><pre data-reactid=".257pxbhw8hs.1.1.1.0.0.0.6"><code data-reactid=".257pxbhw8hs.1.1.1.0.0.0.6.0">var post = null</code></pre><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.7">will allow you to assign a value to it, displaying it in the browser with an Angular data-binding such as</p><pre data-reactid=".257pxbhw8hs.1.1.1.0.0.0.8"><code data-reactid=".257pxbhw8hs.1.1.1.0.0.0.8.0">{{ post }}</code></pre><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.9"><span data-reactid=".257pxbhw8hs.1.1.1.0.0.0.9.0">it is not particularly good at keeping the value updated if you changed it via code - something that will happen if a use wishes to view a different blog post. There are many solutions around to solve this problem, including setting up a </span><code data-reactid=".257pxbhw8hs.1.1.1.0.0.0.9.1">$watch</code><span data-reactid=".257pxbhw8hs.1.1.1.0.0.0.9.2">, and forcing an update with </span><code data-reactid=".257pxbhw8hs.1.1.1.0.0.0.9.3">$apply</code><span data-reactid=".257pxbhw8hs.1.1.1.0.0.0.9.4">, but reading into this seems to indicate that this is not the correct &quot;Angular&quot; way of doing things, and can break the digest cycle.</span></p><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.a"><span data-reactid=".257pxbhw8hs.1.1.1.0.0.0.a.0">Instead, we can store the information in a </span><code data-reactid=".257pxbhw8hs.1.1.1.0.0.0.a.1">model</code><span data-reactid=".257pxbhw8hs.1.1.1.0.0.0.a.2"> object. This leads to something looking a little like this</span></p><pre data-reactid=".257pxbhw8hs.1.1.1.0.0.0.b"><code data-reactid=".257pxbhw8hs.1.1.1.0.0.0.b.0">var model = { post: null }</code></pre><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.c">and a data-binding such as</p><pre data-reactid=".257pxbhw8hs.1.1.1.0.0.0.d"><code data-reactid=".257pxbhw8hs.1.1.1.0.0.0.d.0">{{ model.post }}</code></pre><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.e">Now the factory can update the model and Angular will ensure that the data-bindings reflect this. On the surface, this is a simple change, and it definitely fits more nicely with the  MVC approach, but due to a lack of good examples online and other misleading suggestions, it took a while to figure out this was the correct way of doing things!</p><h3 data-reactid=".257pxbhw8hs.1.1.1.0.0.0.f">Improvements</h3><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.g">Whilst the new Fireblogger module I&#x27;ve created currently serves its purpose, there are definitely some further improvements that I would like to make to it.</p><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.h">Firstly, loading all of the posts up front is not a great idea! For a start, when loading all the posts, I don&#x27;t need the actual post content, as this isn&#x27;t displayed, so I need to investigate if it is possible in Firebase to retrieve a subset of fields for a particular record.</p><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.i">Secondly, the markdown directive I have created for this purpose is quite specific and is tied to a model property. I would ideally like to make this more generic, and probably extract it out into its own (very small!) module entirely.</p><p data-reactid=".257pxbhw8hs.1.1.1.0.0.0.j"><span data-reactid=".257pxbhw8hs.1.1.1.0.0.0.j.0">I would also like to extract the module entirely, and create my own </span><a href="http://bower.io/" data-reactid=".257pxbhw8hs.1.1.1.0.0.0.j.1">Bower </a><span data-reactid=".257pxbhw8hs.1.1.1.0.0.0.j.2">component, as my plan is to use the same functionality that the module provides as part of the improvements I have in mind for my blog-post-author project.</span></p></article></div></div></div></div><script src="https://fb.me/react-0.14.6.min.js" data-reactid=".257pxbhw8hs.1.2"></script><script src="https://fb.me/react-dom-0.14.6.min.js" data-reactid=".257pxbhw8hs.1.3"></script><script src="/bundle.js" data-reactid=".257pxbhw8hs.1.4"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" data-reactid=".257pxbhw8hs.1.5"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous" data-reactid=".257pxbhw8hs.1.6"></script></body></html>